2025-07-31 10:34:45.024 - Started server process [2549824]
2025-07-31 10:34:45.025 - Waiting for application startup.
2025-07-31 10:34:45.028 - root - INFO - Starting application...
2025-07-31 10:34:45.029 - Application startup complete.
2025-07-31 10:34:45.029 - Uvicorn running on http://0.0.0.0:18000 (Press CTRL+C to quit)
2025-07-31 10:35:25.214 - 127.0.0.1:60222 - "GET / HTTP/1.1" 200
2025-07-31 10:35:37.750 - 127.0.0.1:37112 - "GET / HTTP/1.1" 200
2025-07-31 10:37:41.815 - 127.0.0.1:54648 - "GET / HTTP/1.1" 200
2025-07-31 10:38:18.172 - 192.168.100.3:44084 - "GET / HTTP/1.1" 200
2025-07-31 11:04:39.101 - 192.168.100.103:0 - "GET / HTTP/1.1" 200
2025-07-31 11:04:44.673 - 192.168.100.103:0 - "GET / HTTP/1.1" 200
2025-07-31 11:33:48.327 - Started server process [2595202]
2025-07-31 11:33:48.327 - Waiting for application startup.
2025-07-31 11:33:48.330 - root - INFO - Starting application...
2025-07-31 11:33:48.331 - Application startup complete.
2025-07-31 11:33:48.332 - Uvicorn running on http://0.0.0.0:18000 (Press CTRL+C to quit)
2025-07-31 11:33:53.849 - 127.0.0.1:54846 - "GET /health HTTP/1.1" 200
2025-07-31 11:33:58.864 - 127.0.0.1:54856 - "GET /health HTTP/1.1" 200
2025-07-31 11:34:07.621 - 127.0.0.1:55098 - "GET /deepstream/health HTTP/1.1" 200
2025-07-31 11:34:16.750 - 127.0.0.1:60682 - "GET /deepstream/instances HTTP/1.1" 200
2025-07-31 11:34:26.153 - 127.0.0.1:35592 - "GET /deepstream/test/scenarios HTTP/1.1" 200
2025-07-31 11:34:35.855 - 127.0.0.1:57610 - "POST /deepstream/test/simulate-handshake/stream_alpha HTTP/1.1" 200
2025-07-31 11:34:43.445 - 127.0.0.1:39640 - "POST /deepstream/test/mock-analysis HTTP/1.1" 500
2025-07-31 11:34:43.446 - Exception in ASGI application
Traceback (most recent call last):
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
  File "/mnt/storage/admin_storage/traffic_anls-gpu_server/routes/handle_deepstream.py", line 365, in mock_analysis_request
    return await start_analysis(analysis_request)
  File "/mnt/storage/admin_storage/traffic_anls-gpu_server/routes/handle_deepstream.py", line 125, in start_analysis
    if instance.ws_status.value == "connected":
AttributeError: 'str' object has no attribute 'value'
2025-07-31 11:34:51.786 - 127.0.0.1:39644 - "POST /deepstream/test/mock-analysis HTTP/1.1" 500
2025-07-31 11:34:51.787 - Exception in ASGI application
Traceback (most recent call last):
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
  File "/home/cityeyelab/pkgs/python_envs/.legacy_backend/lib/python3.10/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
  File "/mnt/storage/admin_storage/traffic_anls-gpu_server/routes/handle_deepstream.py", line 365, in mock_analysis_request
    return await start_analysis(analysis_request)
  File "/mnt/storage/admin_storage/traffic_anls-gpu_server/routes/handle_deepstream.py", line 125, in start_analysis
    if instance.ws_status.value == "connected":
AttributeError: 'str' object has no attribute 'value'
2025-07-31 11:35:54.827 - Shutting down
2025-07-31 11:35:54.928 - Waiting for application shutdown.
2025-07-31 11:35:54.929 - root - INFO - Stopping application...
2025-07-31 11:35:54.935 - Application shutdown complete.
2025-07-31 11:35:54.936 - Finished server process [2595202]
2025-07-31 11:35:57.263 - Started server process [2597233]
2025-07-31 11:35:57.263 - Waiting for application startup.
2025-07-31 11:35:57.268 - root - INFO - Starting application...
2025-07-31 11:35:57.269 - Application startup complete.
2025-07-31 11:35:57.270 - Uvicorn running on http://0.0.0.0:18000 (Press CTRL+C to quit)
2025-07-31 11:36:01.866 - 127.0.0.1:54058 - "GET /deepstream/health HTTP/1.1" 200
2025-07-31 11:36:07.004 - 127.0.0.1:53784 - "GET /deepstream/health HTTP/1.1" 200
2025-07-31 11:36:16.429 - services.deepstream_manager - INFO - 분석 시작: stream_alpha, stream_0, camera_100001
2025-07-31 11:36:16.429 - services.deepstream_manager - INFO - 파일 추가: camera_100001, 3개 파일
2025-07-31 11:36:16.433 - 127.0.0.1:36842 - "POST /deepstream/test/mock-analysis HTTP/1.1" 200
2025-07-31 11:36:25.767 - 127.0.0.1:42156 - "POST /deepstream/test/simulate-metrics/stream_alpha HTTP/1.1" 200
2025-07-31 11:36:33.955 - 127.0.0.1:45474 - "GET /deepstream/metrics/stream_alpha HTTP/1.1" 200
2025-07-31 11:36:42.631 - 127.0.0.1:55348 - "GET /deepstream/analysis/status/stream_alpha HTTP/1.1" 200
2025-07-31 11:36:52.633 - 127.0.0.1:57528 - "POST /deepstream/test/simulate-file-processing/stream_alpha?camera_id=100001&file_id=200001&action=start HTTP/1.1" 200
2025-07-31 11:37:01.727 - 127.0.0.1:57530 - "GET /deepstream/analysis/status/stream_alpha?camera_id=100001 HTTP/1.1" 200
2025-07-31 11:37:12.280 - 127.0.0.1:51988 - "POST /deepstream/test/simulate-file-processing/stream_alpha?camera_id=100001&file_id=200001&action=complete HTTP/1.1" 200
2025-07-31 11:37:21.096 - 127.0.0.1:59676 - "GET /deepstream/analysis/status/stream_alpha?camera_id=100001 HTTP/1.1" 200
2025-07-31 11:37:31.573 - Shutting down
2025-07-31 11:37:31.674 - Waiting for application shutdown.
2025-07-31 11:37:31.675 - root - INFO - Stopping application...
2025-07-31 11:37:31.677 - Application shutdown complete.
2025-07-31 11:37:31.678 - Finished server process [2597233]
2025-07-31 13:08:23.781 - Started server process [2664759]
2025-07-31 13:08:23.782 - Waiting for application startup.
2025-07-31 13:08:23.785 - root - INFO - Starting application...
2025-07-31 13:08:23.789 - Application startup complete.
2025-07-31 13:08:23.790 - Uvicorn running on http://0.0.0.0:18000 (Press CTRL+C to quit)
2025-07-31 13:08:56.443 - 192.168.100.103:0 - "GET / HTTP/1.1" 200
2025-07-31 13:26:44.295 - Shutting down
2025-07-31 13:26:44.396 - Waiting for application shutdown.
2025-07-31 13:26:44.396 - root - INFO - Stopping application...
2025-07-31 13:26:44.398 - Application shutdown complete.
2025-07-31 13:26:44.398 - Finished server process [2664759]
2025-07-31 13:26:46.387 - Started server process [2678032]
2025-07-31 13:26:46.387 - Waiting for application startup.
2025-07-31 13:26:46.389 - root - INFO - Starting application...
2025-07-31 13:26:46.398 - Application startup complete.
2025-07-31 13:26:46.402 - Uvicorn running on http://0.0.0.0:18000 (Press CTRL+C to quit)
2025-07-31 13:27:30.843 - Shutting down
2025-07-31 13:27:30.944 - Waiting for application shutdown.
2025-07-31 13:27:30.945 - root - INFO - Stopping application...
2025-07-31 13:27:30.946 - Application shutdown complete.
2025-07-31 13:27:30.947 - Finished server process [2678032]
2025-07-31 13:32:06.987 - Started server process [2682033]
2025-07-31 13:32:06.987 - Waiting for application startup.
2025-07-31 13:32:06.989 - root - INFO - Starting application...
2025-07-31 13:32:06.990 - Application startup complete.
2025-07-31 13:32:06.991 - Uvicorn running on http://0.0.0.0:18000 (Press CTRL+C to quit)
2025-07-31 13:32:13.958 - 127.0.0.1:59720 - "GET /deepstream/health HTTP/1.1" 200
2025-07-31 13:32:23.258 - 127.0.0.1:34854 - "GET /deepstream/processes HTTP/1.1" 200
2025-07-31 13:32:32.180 - 127.0.0.1:34860 - "POST /deepstream/test/mock-launch HTTP/1.1" 200
2025-07-31 13:32:42.625 - 127.0.0.1:35508 - "POST /deepstream/launch HTTP/1.1" 200
2025-07-31 13:32:54.215 - 127.0.0.1:59432 - "GET /deepstream/test/scenarios HTTP/1.1" 200
2025-07-31 13:33:06.448 - 127.0.0.1:36514 - "GET /deepstream/test/sample-data HTTP/1.1" 200
2025-07-31 13:33:14.909 - Shutting down
2025-07-31 13:33:15.011 - Waiting for application shutdown.
2025-07-31 13:33:15.011 - root - INFO - Stopping application...
2025-07-31 13:33:15.016 - Application shutdown complete.
2025-07-31 13:33:15.017 - Finished server process [2682033]
2025-07-31 14:57:19.567 - Started server process [2744570]
2025-07-31 14:57:19.567 - Waiting for application startup.
2025-07-31 14:57:19.583 - root - INFO - Starting application...
2025-07-31 14:57:19.586 - Application startup complete.
2025-07-31 14:57:19.589 - Uvicorn running on http://0.0.0.0:18000 (Press CTRL+C to quit)
2025-07-31 14:57:26.752 - 127.0.0.1:52218 - "GET /deepstream/health HTTP/1.1" 200
2025-07-31 14:57:36.848 - 127.0.0.1:59792 - "GET /deepstream/processes/test-process-id/logs HTTP/1.1" 200
2025-07-31 14:57:46.357 - 127.0.0.1:42394 - "POST /deepstream/test/mock-launch HTTP/1.1" 200
2025-07-31 15:07:54.563 - Shutting down
2025-07-31 15:07:54.664 - Waiting for application shutdown.
2025-07-31 15:07:54.665 - root - INFO - Stopping application...
2025-07-31 15:07:54.666 - Application shutdown complete.
2025-07-31 15:07:54.667 - Finished server process [2744570]
2025-07-31 15:08:15.551 - Started server process [2752827]
2025-07-31 15:08:15.551 - Waiting for application startup.
2025-07-31 15:08:15.553 - root - INFO - Starting application...
2025-07-31 15:08:15.554 - Application startup complete.
2025-07-31 15:08:15.555 - Uvicorn running on http://0.0.0.0:18000 (Press CTRL+C to quit)
2025-07-31 15:08:22.716 - services.websocket_manager - WARNING - 인스턴스에 해당하는 프로세스 정보를 찾을 수 없습니다: stream_alpha
2025-07-31 15:08:22.716 - services.websocket_manager - ERROR - 앱 준비 메시지 처리 오류: 'MockWebSocketConnection' object has no attribute 'send_message'
2025-07-31 15:08:22.718 - 127.0.0.1:43470 - "POST /deepstream/test/simulate-app-ready/stream_alpha HTTP/1.1" 200
2025-07-31 15:08:28.540 - services.websocket_manager - WARNING - 인스턴스에 해당하는 프로세스 정보를 찾을 수 없습니다: stream_alpha
2025-07-31 15:08:28.540 - services.websocket_manager - ERROR - 앱 준비 메시지 처리 오류: 'MockWebSocketConnection' object has no attribute 'send_message'
2025-07-31 15:08:28.542 - 127.0.0.1:43474 - "POST /deepstream/test/simulate-app-ready/stream_alpha HTTP/1.1" 200
2025-07-31 15:08:39.052 - services.process_launcher - INFO - DeepStream 앱 실행 시작: stream_250731_150839_bee862cc
2025-07-31 15:08:39.055 - services.deepstream_manager - INFO - 새 인스턴스 등록: stream_250731_150839_bee862cc
2025-07-31 15:08:39.055 - services.process_launcher - INFO - DeepStream 앱 실행 성공: stream_250731_150839_bee862cc (Host PID: 2753340)
2025-07-31 15:08:39.057 - 127.0.0.1:41008 - "POST /deepstream/test/mock-launch HTTP/1.1" 200
2025-07-31 15:08:48.912 - services.websocket_manager - INFO - DeepStream-app으로부터 PID 수신: stream_250731_150839_bee862cc -> 12345
2025-07-31 15:08:48.912 - services.websocket_manager - ERROR - 앱 준비 메시지 처리 오류: 'MockWebSocketConnection' object has no attribute 'send_message'
2025-07-31 15:08:48.914 - 127.0.0.1:52174 - "POST /deepstream/test/simulate-app-ready/stream_250731_150839_bee862cc HTTP/1.1" 200
2025-07-31 15:08:59.327 - 127.0.0.1:45872 - "GET /deepstream/processes/by-instance/stream_250731_150839_bee862cc HTTP/1.1" 200
2025-07-31 15:09:11.837 - Shutting down
2025-07-31 15:09:11.938 - Waiting for application shutdown.
2025-07-31 15:09:11.938 - root - INFO - Stopping application...
2025-07-31 15:09:11.940 - Application shutdown complete.
2025-07-31 15:09:11.941 - Finished server process [2752827]
2025-07-31 15:16:04.817 - Started server process [2758976]
2025-07-31 15:16:04.817 - Waiting for application startup.
2025-07-31 15:16:04.822 - root - INFO - Starting application...
2025-07-31 15:16:04.823 - Application startup complete.
2025-07-31 15:16:04.824 - Uvicorn running on http://0.0.0.0:18000 (Press CTRL+C to quit)
2025-08-04 11:23:44.003 - Started server process [2328424]
2025-08-04 11:23:44.004 - Waiting for application startup.
2025-08-04 11:23:44.026 - root - INFO - Starting application...
2025-08-04 11:23:44.027 - Application startup complete.
2025-08-04 11:23:44.028 - Uvicorn running on http://0.0.0.0:18000 (Press CTRL+C to quit)
2025-08-04 11:24:24.378 - 192.168.100.103:0 - "GET / HTTP/1.1" 200
